<UserControl x:Class="pq.Pages.ControlsStylesDataGrid"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:core="clr-namespace:System;assembly=mscorlib"
             xmlns:model="clr-namespace:pq.Model"
             xmlns:local="clr-namespace:pq.Pages"
             xmlns:mui="http://firstfloorsoftware.com/ModernUI"
             mc:Ignorable="d" 
             xmlns:c="clr-namespace:pq.MyConverters"
             xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"  
             d:DesignHeight="300" d:DesignWidth="300">
    <UserControl.Resources>
        <c:Brush x:Key="Brush"></c:Brush>

    </UserControl.Resources>
    <Grid Style="{StaticResource ContentRoot}">
        <Grid.Resources>
            <!--Create list of enumeration values-->
            <ObjectDataProvider x:Key="FileExtensionMidTypeEnum" MethodName="GetValues" ObjectType="{x:Type core:Enum}">
                <ObjectDataProvider.MethodParameters>
                    <x:Type Type="model:FileExtensionMidTypeEnum"/>
                </ObjectDataProvider.MethodParameters>
            </ObjectDataProvider>
            <ObjectDataProvider x:Key="FyleTipe" MethodName="GetValues" ObjectType="{x:Type core:Enum}">
                <ObjectDataProvider.MethodParameters>
                    <x:Type Type="model:FyleTipe"/>
                </ObjectDataProvider.MethodParameters>
            </ObjectDataProvider>

            <BooleanToVisibilityConverter x:Key="BoolToVis" />
        </Grid.Resources>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="*"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
        </Grid.RowDefinitions>
        <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Center">

            <ContentPresenter Content="{StaticResource appbar_switch_off}" x:Name="off"></ContentPresenter>
            <ContentPresenter Content="{StaticResource appbar_switch_on}" x:Name="on"></ContentPresenter>
            <CheckBox Foreground="{Binding ElementName=IsMine,Path=IsChecked,Converter={StaticResource Brush}}" Margin="0,0,8,0" Checked="IsExtended_Checked" Unchecked="IsExtended_Unchecked" x:Name="IsMine" ToolTip="Don't see the extension you need? Extend the library...">
                <CheckBox.Content>
                    <TextBlock Text="MY LIBRARY" VerticalAlignment="Center" Style="{StaticResource Heading2}"></TextBlock>
                </CheckBox.Content>
            </CheckBox>
            <ContentPresenter Content="{StaticResource appbar_transit_connection}" ></ContentPresenter>

        </StackPanel>
        <StackPanel Grid.Row="1" Orientation="Vertical" HorizontalAlignment="Center">

            <DataGrid Background="{DynamicResource gd}" SelectionChanged="DG1_SelectionChanged" AutoGenerateColumns="False" HorizontalAlignment="Center" Name="DG1" ItemsSource="{Binding Custdata}" SelectedItem="{Binding Selected}" >
                <DataGrid.Resources>

                </DataGrid.Resources>
                <DataGrid.Columns>
                    <mui:DataGridTextColumn Header="Name"  Binding="{Binding Name, ValidatesOnExceptions=True}" />
                    <mui:DataGridTextColumn Header="FullName"  Binding="{Binding FullName, ValidatesOnExceptions=True}"/>
                    <mui:DataGridCheckBoxColumn Width="50" Header="Binary" Binding="{Binding IsBinary, ValidatesOnExceptions=True}" />
                    <mui:DataGridCheckBoxColumn Width="50" Header="Open" Binding="{Binding IsOpen, ValidatesOnExceptions=True}" />
                    <mui:DataGridComboBoxColumn Header="Category" SelectedItemBinding="{Binding FEMTE, ValidatesOnExceptions=True}" ItemsSource="{Binding Source={StaticResource FileExtensionMidTypeEnum}}" />
                    <mui:DataGridComboBoxColumn Header="Type" SelectedItemBinding="{Binding FT, ValidatesOnExceptions=True}" ItemsSource="{Binding Source={StaticResource FyleTipe}}" />
                </DataGrid.Columns>

                <DataGrid.RowValidationRules>
                    <local:CourseValidationRule ValidationStep="UpdatedValue"/>
                </DataGrid.RowValidationRules>

                <DataGrid.RowValidationErrorTemplate>
                    <ControlTemplate>
                        <Grid Margin="0,-2,0,-2"
            ToolTip="{Binding RelativeSource={RelativeSource
            FindAncestor, AncestorType={x:Type DataGridRow}},
            Path=(Validation.Errors)[0].ErrorContent}">
                            <Ellipse StrokeThickness="3" Fill="Red" 
              Width="{TemplateBinding FontSize}" 
              Height="{TemplateBinding FontSize}" />
                            <TextBlock Text="•" FontSize="{TemplateBinding FontSize}" 
              FontWeight="Bold" Foreground="White" 
              HorizontalAlignment="Center"  />
                        </Grid>
                    </ControlTemplate>
                </DataGrid.RowValidationErrorTemplate>


                <DataGrid.ContextMenu>
                    <ContextMenu>

                        <MenuItem Click="MenuItem_Click" Header="BACK" Foreground="LightGreen" Background="ForestGreen">
                            <MenuItem.Icon>
                                <ContentPresenter Content="{StaticResource appbar_alien}"></ContentPresenter>
                            </MenuItem.Icon>
                        </MenuItem>
                    </ContextMenu>
                </DataGrid.ContextMenu>
            </DataGrid>
            <TextBlock x:Name="StatusTxt" Style="{StaticResource Heading2}"></TextBlock>
        </StackPanel>
        <StackPanel Grid.Row="2" HorizontalAlignment="Left">
            <mui:ModernButton IconData="F1 M 24.0033,56.0078L 24.0033,38.0053L 21.753,39.7556L 18.5026,34.8799L 38.0053,20.2528L 46.0064,26.2536L 46.0064,21.7531L 50.007,21.0029L 50.007,29.0041L 57.508,34.8799L 54.2576,39.7556L 52.0072,38.0053L 52.0072,56.0078L 24.0033,56.0078 Z M 38.0013,48.8868C 36.8634,48.8868 35.941,49.8092 35.941,50.9471C 35.941,52.085 36.8634,53.0074 38.0013,53.0074C 39.1392,53.0074 40.0616,52.085 40.0616,50.9471C 40.0616,49.8092 39.1392,48.8868 38.0013,48.8868 Z M 38.4134,32.4045C 34.7722,32.4045 31.8204,35.1718 31.8204,38.5854L 31.8204,39.4095L 35.941,39.4095L 35.941,38.1733C 35.941,36.8079 37.0479,35.701 38.4134,35.701C 39.7788,35.701 40.8857,36.8079 40.8857,38.1733C 40.8857,38.7688 40.8857,38.9975 39.2375,40.6457C 38.4134,41.4698 35.941,43.1998 35.941,46.0024L 35.941,47.2386L 40.0616,47.2386L 40.0616,45.5904C 40.0616,44.2249 40.8857,43.118 42.5339,42.2939C 44.1822,41.4698 45.0063,39.4095 45.0063,38.1733C 45.0063,34.7597 42.0545,32.4045 38.4134,32.4045 Z " Content="HOW DO I USE THE EXTENSIONLESS AUXILIARY LIBRARY?"  Click="ModernButton_Click_1"/>

        </StackPanel>
    </Grid>
</UserControl>
